<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // map 1 = sh = abcdef
        // map 2 = th = abc
        function compareMaps(Map1,Map2){
            if(Map1.size !== Map2.size) return false;
            for(let [key,val] of Map1){
                if(!Map2.has(key) || Map2.get(key)!==val) return false;
            }
            return true;
        }

        function solution(s,t){
            let answer = 0;
            let sH = new Map(); //  s = a = bacaAacba
            let tH = new Map();//   t = b = abc

            for(let x of t){
                if(tH.has(x)) tH.set(x,tH.get(x)+1);
                else tH.set(x,1);
            }
            // tH 초기값 설정

            let len = t.length-1;

            for(let i=0; i<len; i++){
                if(sH.has(s[i]))sH.set(s[i],sH.get(s[i])+1);
                else sH.set(s[i],1);
            }
            // sH 초기값 설정

            let lt = 0;

            for(let rt=len; rt<s.length; rt++){
                if(sH.has(s[rt])) sH.set(s[rt],sH.get(s[rt])+1);
                else sH.set(s[rt],1);

                if(compareMaps(sH,tH)) answer++

                sH.set(s[lt],sH.get(s[lt])-1)
                if(sH.get(s[lt])===0) sH.delete(s[lt]);
                lt++
            }
            return answer;
        };

        let a = "bacaAacba";
        let b = "abc";
        console.log(solution(a,b));
    </script>
</body>
</html>