<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<script>

    // n 정점의 개수
    // arr = 간선 정보
    function solution(n, arr){
        let answer=0; 
        let graph=Array.from(Array(n+1), ()=> Array());
        let ch=Array.from({length:n+1},()=>0);
        let path = [];
        
        for(let [a,b] of arr){
            graph[a].push(b);
        }
        function DFS(v){
            if(v===n){
                answer++;
                console.log(path);
            }
            else{
                for(let i=0; i<graph[v].length; i++){
                    if(ch[graph[v][i]]===0){ // 정점번호를 의미한다.
                        ch[graph[v][i]]=1; // 방문 체크
                        path.push(graph[v][i]);
                        DFS(graph[v][i]);
                        ch[graph[v][i]]=0;
                        path.pop(graph[v][i]);
                    }
                }
            }
        }
        path.push(1);
        ch[1]=1;
        DFS(1);
        return answer;
    }
    let arr = [[1,2],[1,3],[1,4],[2,1],[2,3],[2,5],[3,4],[4,2],[4,5]];
    console.log(solution(5,arr));
</script>    
</body>
</html>